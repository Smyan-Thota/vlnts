<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Question</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #ffeef8 0%, #fff0f5 50%, #ffe4ec 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
        }

        .screen.active {
            display: flex;
        }

        h1 {
            color: #c41e3a;
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            line-height: 1.3;
        }

        .subheader {
            color: #8b4563;
            font-size: 1rem;
            margin-bottom: 2rem;
            font-style: italic;
            line-height: 1.6;
        }

        .message {
            color: #6b3a4d;
            font-size: 1.25rem;
            margin-bottom: 2rem;
            line-height: 1.7;
        }

        .buttons {
            display: flex;
            gap: 2rem;
            margin-top: 1rem;
        }

        button {
            padding: 1rem 2.5rem;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-family: 'Georgia', serif;
        }

        .yes-btn {
            background: linear-gradient(135deg, #ff6b9d 0%, #c41e3a 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(196, 30, 58, 0.4);
        }

        .yes-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(196, 30, 58, 0.5);
        }

        .no-btn {
            background: linear-gradient(135deg, #d3d3d3 0%, #a9a9a9 100%);
            color: #555;
            position: fixed;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 100;
        }

        /* Screen 3 specific styles */
        #screen3 h1 {
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: -1;
        }

        .heart {
            position: absolute;
            font-size: 2rem;
            animation: float 4s ease-in-out infinite;
            opacity: 0.6;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }

        .celebration-text {
            color: #c41e3a;
            font-size: 1.3rem;
            margin-top: 1rem;
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Mobile responsiveness */
        @media (max-width: 600px) {
            h1 {
                font-size: 1.8rem;
            }

            .message {
                font-size: 1.1rem;
            }

            .subheader {
                font-size: 0.9rem;
            }

            button {
                padding: 0.8rem 2rem;
                font-size: 1rem;
            }

            .buttons {
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Screen 1: Landing -->
    <div id="screen1" class="screen active">
        <h1>Hello there. Did the love of your life send you this?</h1>
        <p class="subheader">Even if you'd like to say no, I made it so that you won't be able to, so if you wanna say no you better call me and tell me :)</p>
        <div class="buttons">
            <button class="yes-btn" onclick="goToScreen(2)">Yes</button>
            <button class="no-btn" id="noBtn1">No</button>
        </div>
    </div>

    <!-- Screen 2: The Ask -->
    <div id="screen2" class="screen">
        <h1>A Special Question...</h1>
        <p class="message">Your boyfriend Smyan, aka the love of your life, would like to ask you out. He says you are the most beautiful, kind, hardworking, smart, creative and gorgeous hooman bean in the world, and he was wondering if you would be interested in being his valentine.</p>
        <p class="subheader">You should try hitting no lol, I think you'd like the reaction </p>
        <div class="buttons">
            <button class="yes-btn" onclick="goToScreen(3)">Yes</button>
            <button class="no-btn" id="noBtn2">No</button>
        </div>
    </div>

    <!-- Screen 3: Celebration -->
    <div id="screen3" class="screen">
        <div class="hearts" id="heartsContainer"></div>
        <h1>Congrats! You are now Smyan's valentine.</h1>
        <p class="celebration-text">Prepare to be amazed and bamboozled.</p>
        <p class="subheader">Hehehehehhehehehehehhe</p>
    </div>

    <script>
        // Track all no buttons
        const noButtons = document.querySelectorAll('.no-btn');
        let currentScreen = 1;

        // Mouse tracking for runaway buttons
        let mouseX = 0;
        let mouseY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            checkButtonProximity();
        });

        // Touch support for mobile
        document.addEventListener('touchmove', (e) => {
            if (e.touches.length > 0) {
                mouseX = e.touches[0].clientX;
                mouseY = e.touches[0].clientY;
                checkButtonProximity();
            }
        });

        document.addEventListener('touchstart', (e) => {
            if (e.touches.length > 0) {
                mouseX = e.touches[0].clientX;
                mouseY = e.touches[0].clientY;
                checkButtonProximity();
            }
        });

        function checkButtonProximity() {
            noButtons.forEach((btn, index) => {
                // Only check the button on the current screen
                if (index + 1 !== currentScreen) return;

                const rect = btn.getBoundingClientRect();
                const btnCenterX = rect.left + rect.width / 2;
                const btnCenterY = rect.top + rect.height / 2;

                const distance = Math.sqrt(
                    Math.pow(mouseX - btnCenterX, 2) +
                    Math.pow(mouseY - btnCenterY, 2)
                );

                // If cursor is within 100px, run away!
                if (distance < 100) {
                    moveButton(btn);
                }
            });
        }

        function moveButton(btn) {
            const btnWidth = btn.offsetWidth;
            const btnHeight = btn.offsetHeight;
            const padding = 20;

            // Calculate safe boundaries
            const maxX = window.innerWidth - btnWidth - padding;
            const maxY = window.innerHeight - btnHeight - padding;

            // Generate random position
            let newX = Math.random() * maxX + padding;
            let newY = Math.random() * maxY + padding;

            // Make sure it's not too close to current mouse position
            const minDistanceFromMouse = 150;
            let attempts = 0;
            while (attempts < 10) {
                const distFromMouse = Math.sqrt(
                    Math.pow(mouseX - (newX + btnWidth/2), 2) +
                    Math.pow(mouseY - (newY + btnHeight/2), 2)
                );

                if (distFromMouse >= minDistanceFromMouse) break;

                newX = Math.random() * maxX + padding;
                newY = Math.random() * maxY + padding;
                attempts++;
            }

            btn.style.left = newX + 'px';
            btn.style.top = newY + 'px';
        }

        // Initialize button positions
        function initButtonPositions() {
            noButtons.forEach((btn, index) => {
                // Position buttons initially to the right of center
                const viewportWidth = window.innerWidth;
                const viewportHeight = window.innerHeight;
                btn.style.left = (viewportWidth / 2 + 80) + 'px';
                btn.style.top = (viewportHeight / 2 + 50) + 'px';
            });
        }

        // Screen navigation
        function goToScreen(screenNum) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });

            // Show target screen
            document.getElementById(`screen${screenNum}`).classList.add('active');
            currentScreen = screenNum;

            // Reset no button position for new screen
            if (screenNum < 3) {
                const btn = document.getElementById(`noBtn${screenNum}`);
                const viewportWidth = window.innerWidth;
                const viewportHeight = window.innerHeight;
                btn.style.left = (viewportWidth / 2 + 80) + 'px';
                btn.style.top = (viewportHeight / 2 + 50) + 'px';
            }

            // If screen 3, start celebration
            if (screenNum === 3) {
                startCelebration();
            }
        }

        function startCelebration() {
            // Create floating hearts
            createHearts();

            // Fire confetti multiple times
            const duration = 5 * 1000;
            const animationEnd = Date.now() + duration;

            const randomInRange = (min, max) => Math.random() * (max - min) + min;

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#ff6b9d', '#c41e3a', '#ff1493', '#ff69b4', '#ffb6c1']
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#ff6b9d', '#c41e3a', '#ff1493', '#ff69b4', '#ffb6c1']
                });

                if (Date.now() < animationEnd) {
                    requestAnimationFrame(frame);
                }
            }());

            // Big burst at the start
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#ff6b9d', '#c41e3a', '#ff1493', '#ff69b4', '#ffb6c1']
            });
        }

        function createHearts() {
            const container = document.getElementById('heartsContainer');
            const hearts = ['â¤ï¸', 'ðŸ’•', 'ðŸ’–', 'ðŸ’—', 'ðŸ’“', 'ðŸ’'];

            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('span');
                heart.className = 'heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.top = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 4 + 's';
                heart.style.fontSize = (1 + Math.random() * 2) + 'rem';
                container.appendChild(heart);
            }
        }

        // Initialize on page load
        window.addEventListener('load', initButtonPositions);
        window.addEventListener('resize', initButtonPositions);
    </script>
</body>
</html>
